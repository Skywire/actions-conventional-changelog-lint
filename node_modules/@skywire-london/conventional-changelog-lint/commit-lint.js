module.exports = {
    formatRegex: /^[A-Za-z]+-\d+: \w+\(*\w*\)*: .+$/,

    validateFormat(message) {
        return this.formatRegex.test(message);
    },

    lint: function (message) {

        if (/^[A-Za-z]+-\d+/.test(message) === false) {
            throw new Error('Missing or invalid ticket number e.g. SKY-001');
        }

        if (/^[A-Za-z]+-\d+: \w+/.test(message) === false) {
            throw new Error('Missing commit type');
        }

        let description = message.split(':').pop();
        if (/ .+$/.test(description) === false) {
            throw new Error('Missing description');
        }

        return true;
    }
}
